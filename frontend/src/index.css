@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-gray-50/80 text-gray-900 antialiased;
    -webkit-tap-highlight-color: transparent;
    overscroll-behavior: none;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply tracking-tight;
  }

  /* Prevent iOS Safari zoom on input focus — inputs must be >= 16px */
  @media screen and (max-width: 767px) {
    input,
    select,
    textarea {
      font-size: 16px !important;
    }
  }
}

/* Safe area insets for notched devices (iPhone X+) */
@supports (padding: env(safe-area-inset-bottom)) {
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

@layer components {
  .btn {
    @apply px-4 py-2 rounded-lg font-medium text-sm transition-all duration-150
           focus:outline-none focus:ring-2 focus:ring-offset-2
           active:scale-[0.98];
  }

  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700
           focus:ring-primary-500
           shadow-xs hover:shadow-soft;
  }

  .btn-secondary {
    @apply bg-gray-100 text-gray-700 hover:bg-gray-200
           focus:ring-gray-400
           border border-gray-200;
  }

  .btn-outline {
    @apply border border-gray-300 text-gray-700 bg-white
           hover:bg-gray-50 hover:border-gray-400
           focus:ring-primary-500;
  }

  .input {
    @apply block w-full rounded-lg border border-gray-300 bg-white
           px-3 py-2 text-sm
           shadow-xs
           placeholder:text-gray-400
           focus:border-primary-500 focus:ring-1 focus:ring-primary-500
           transition-colors duration-150;
  }

  .card {
    @apply bg-white rounded-xl border border-gray-200 shadow-soft p-6;
  }

  .recipe-card {
    @apply bg-white rounded-xl border border-gray-200 shadow-soft
           overflow-hidden
           hover:shadow-elevated hover:border-gray-300
           transition-all duration-200 cursor-pointer;
  }
}

/* Print Styles */
@media print {
  /* Hide navigation, buttons, and UI elements */
  .no-print,
  nav,
  header,
  footer,
  .print-hide {
    display: none !important;
  }

  /* Reset page styles for printing */
  body {
    background: white !important;
    color: black !important;
    font-size: 12pt;
    line-height: 1.5;
  }

  /* Optimize page breaks */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    page-break-after: avoid;
    page-break-inside: avoid;
  }

  img {
    page-break-inside: avoid;
    max-width: 100% !important;
  }

  /* Ingredient and instruction lists */
  ul,
  ol {
    page-break-inside: avoid;
  }

  /* Print-specific styles for recipes */
  .recipe-title {
    font-size: 24pt;
    font-weight: bold;
    margin-bottom: 12pt;
  }

  .recipe-meta {
    margin-bottom: 16pt;
    border-bottom: 1px solid #ccc;
    padding-bottom: 8pt;
  }

  .ingredient-category {
    font-weight: bold;
    margin-top: 12pt;
    font-size: 14pt;
  }

  .ingredient-item {
    margin-left: 12pt;
    margin-bottom: 4pt;
  }

  .instruction-step {
    margin-bottom: 8pt;
  }

  /* Shopping list print styles */
  .shopping-list-title {
    font-size: 20pt;
    font-weight: bold;
    margin-bottom: 12pt;
  }

  .shopping-category {
    font-weight: bold;
    margin-top: 12pt;
    margin-bottom: 6pt;
    font-size: 13pt;
    text-transform: capitalize;
    border-bottom: 1px solid #000;
    padding-bottom: 4pt;
  }

  .shopping-item {
    display: block !important;
    margin-bottom: 8pt;
    padding-left: 0 !important;
  }

  .shopping-item::before {
    content: '☐ ';
    margin-right: 8pt;
    font-size: 14pt;
  }

  /* Hide interactive elements on shopping lists */
  input[type='checkbox'],
  .line-through {
    display: none !important;
  }

  /* Simplify item containers */
  .shopping-item {
    background: none !important;
    border: none !important;
    padding: 4pt 0 !important;
  }

  /* Page margins */
  @page {
    margin: 1.5cm;
  }

  /* Remove shadows and unnecessary decorations */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }

  /* Make links visible */
  a[href]:after {
    content: none !important;
  }

  /* Ensure readability */
  p,
  li {
    orphans: 3;
    widows: 3;
  }
}
